<% hideSidebar = true; layout('layout') -%>

<div class="auth-wrapper">
  <div class="auth-card">
    <section class="auth-form">
      <div class="brand">ManageEasy</div>
      <h2>Create your account</h2>

      <% if (messages && messages.error) { %>
        <div class="alert"><%= Array.isArray(messages.error) ? messages.error.join(' ') : messages.error %></div>
      <% } %>

      <form method="POST" action="/register" novalidate>
        <div class="form-group">
          <label for="name">Full name</label>
          <input id="name" name="name" type="text" required placeholder="Your full name" />
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" required placeholder="you@example.com" />
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" required placeholder="Create a password" />
        </div>

        <div class="form-group">
          <label for="role">Register as</label>
          <select id="role" name="role" required>
            <option value="staff" selected>Staff</option>
            <option value="admin">Admin</option>
          </select>
        </div>

        <div class="form-actions">
          <button class="btn" type="submit">Register</button>
          <a class="btn secondary" href="/login" style="text-decoration:none; display:inline-flex; align-items:center; justify-content:center;">Back to Login</a>
        </div>
      </form>

      <p class="muted" style="margin-top:12px;">Admins should be approved by an existing admin before full access is granted.</p>
    </section>

    <aside class="auth-welcome">
      <h3>Welcome to ManageEasy</h3>
      <p>Set up your store and start managing products and suppliers quickly.</p>
      <div style="width:100%; text-align:left;">
        <a href="#" style="color:#fff; text-decoration:underline; font-weight:700;">Learn more</a>
      </div>
    </aside>
  </div>
</div>
